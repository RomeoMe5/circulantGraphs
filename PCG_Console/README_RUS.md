# Запуск и конфигурация программы PCG Console

Запуск программы выполняется посредством запуска PCG Console.exe. Без изменения файла конфигурации будет запущена с базовыми параметрами, указанными в файле.

## Изменение конфигурации

Есть несколько способов изменить ввод/вывод информации.

### PCGConsole.exe.config

Основной файл конфигурации, который создается при сборке приложения. Основные пункты для изменения:

    \&lt;addkey=&quot;FirstTaskPath&quot; value=&quot;Input\task1.xml&quot;/\&gt;

    \&lt;add key=&quot;LastStatePath&quot; value=&quot;laststate.xml&quot;/\&gt;

**LastStatePath** – последнее состояние. Здесь сохраняются последнее состояние программы, если она была прервана не завершив весь цикл поиска. Не всегда работает корректно. Срабатывает при остановке (команда stop в консоли). Если не удается запустить для сохраненной конфигурации программу необходимо удалить этот файл (тогда будут утрачены последнее состояние программы).

**FirstTaskPath** – Параметры поиска. Под задачей подразумевается список параметрических описаний (состоящих из кол-ва узлов и кол-ва образующих, также есть скрытые параметры, которые не были добавлены, т.к. недоработаны). Описание изменяемых переменных:

### Описание атрибутов Task

Содержимое файла Task.xml выглядит следующим образом:

\&lt;Task xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; nodesDescription=&quot;200&quot; grade=&quot;5&quot; threadsCount=&quot;4&quot; outputFolderPath=&quot;Output&quot; fullName=&quot;Иванко И.И.&quot; isFullLogging=&quot;false&quot; isFullReport=&quot;false&quot; /\&gt;

**nodesDescription** – кол-во узлов в графе. Для простых задач можно формировать списки, на подобии: 100, 250-340, 1029, 2090. Если какие-то необрабатываемые символы присутствуют, то программа должна их проигнорировать и обработать запись без них.

**grade** – кол-во образующих. Может быть любым положительным, но лучше задавать 2 и более.

**threadsCount** – кол-во потоков. Если атрибут отсутствует или меньше чем 1, то по умолчанию считается целое от деления количества логических процессоров на 2. При больших значениях, будет выбрано оптимальное количество потоков. Сама программа работает как минимум в 3 потоках (отслеживание ввода команды, проверка очереди и синтез).

**fullName**  **–** Имя исполнителя. Может также быть какое-то уникальное имя, используется при составлении отчета.

**output**  **–** куда сохранять данные. Данные сохраняются в специализированном формате, и для получения в «форматированном» состоянии, необходимо использовать программу, которую я выдал Романову А.Ю. (лежит на его GitHub).

**isFullLogging** – полное логирование всего процесса синтеза в .csv-файл. Пока не работает.

**isFullReport** – полное логирование всего процесса синтеза в .bin-файл. Пока не работает.

**mode** – режим работы программы. Не добавлено.

### О работе программы

Исполнитель конфигурирует файл (по умолчанию находится в папке Input, находящейся в корневой директории программы), содержащий xml-разметку Task. Какие пункты можно изменить:

- **fullname** : Указывается Ваш идентификатор. Запись не обрезается по пробелам, нечувствительно к регистру;

- **grade** : количестов образующих.

- **nodesDescription** : диапазон количества узлов.

- **threadsCount** – кол-во потоков указывается 0, если не уверены, сколько хотите выделить на работу программы

Для корректного завершения программы и для сохранения результатов необходимо набрать **stop****.** В этом случае программа произведет сохранение промежуточных результатов. При той же конфигурации файла, программа продолжит работу при следующем запуске с точки останова. Результаты сохраняются в laststate.xml.

Если остался laststate.xml после запуска задачи с другими параметрами (кол-во узлов, кол-во образующих), необходимо файл удалить, иначе возникнут ошибки при запуске.

По завершению работы программы (успешного или не успешного) в папке **Output** появятся файлы  .csv (только в случае успешного завершения) и .bin.
